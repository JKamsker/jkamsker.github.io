<head>
  <meta charset="utf-8" />
  <title>
    {% if page.title %}{{ page.title }} - {{ site.title }}{% else %}{{ site.title }} - {{ site.subtitle }}{% endif %}
  </title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  {%- assign page_summary = page.summary | default: site.description -%}
  {%- assign social_image = page.social_image | default: page.thumbnail -%}
  {%- unless social_image -%}
    {%- if site.hero_cover_img -%}
      {%- assign social_image = '/assets/img/' | append: site.hero_cover_img -%}
    {%- elsif site.author_logo -%}
      {%- assign social_image = '/assets/img/' | append: site.author_logo -%}
    {%- endif -%}
  {%- endunless -%}

  <meta name="description" content="{{ page_summary | escape }}" />
   <meta name="keywords" content="{% if page.title %}{{ page.title }}, {{ site.title }}, {% for categ in page.categories %}{{ categ }}{% if forloop.last == false %}, {% endif %}{% endfor %}{% else %}{{ site.title }}, {% for category in site.categories %}{% capture categories_slug %}{{ category | first }}{% endcapture %}{% for categ in categories_slug %}{{ categ }}{% endfor %}{% if forloop.last == false %}, {% endif %}{% endfor %}{% endif %},{{ page.keywords | escape }}"/>

  <link
    rel="alternate"
    type="application/rss+xml"
    title="RSS"
    href="{{ '/feed.xml' | relative_url }}"
  />
  <meta content="{{ site.title | escape }}" property="og:site_name" />
  {% if page.noindex %}
  <meta name="robots" content="noindex" />
  {% endif %} {% if page.title %}
  <meta content="{{ page.title | escape }}" property="og:title" />
  <meta content="article" property="og:type" />
  {% else %}
  <meta content="{{ site.title | escape }}" property="og:title" />
  <meta content="website" property="og:type" />
  {% endif %}
  <meta content="{{ page_summary | escape }}" property="og:description" />
  {% if page.url %}
  <meta content="{{ page.url | absolute_url }}" property="og:url" />
  {% endif %} {% if page.date %}
  <meta
    content="{{ page.date | date_to_xmlschema }}"
    property="article:published_time"
  />
  <meta content="{{ '/about/' | absolute_url }}" property="article:author" />
  {% endif %}
  {% if social_image %}
  <meta content="{{ social_image | absolute_url }}" property="og:image" />
  <meta content="{{ page.title | default: site.title | escape }}" property="og:image:alt" />
  {% endif %}
  {% if page.categories %} {% for category in page.categories
  limit:1 %}
  <meta content="{{ category }}" property="article:section" />
  {% endfor %} {% endif %} {% if page.tags %} {% for tag in page.tags %}
  <meta content="{{ tag }}" property="article:tag" />
  {% endfor %} {% endif %}

  <!-- Twitter Cards -->
  <meta name="twitter:card" content="{% if social_image %}summary_large_image{% else %}summary{% endif %}" />
  {% if site.twitter_username %}
  <meta name="twitter:site" content="@{{ site.twitter_username }}" />
  <meta name="twitter:creator" content="@{{ site.twitter_username }}" />
  {% endif %}

  {% if page.title %}
  <meta name="twitter:title" content="{{ page.title | escape }}" />
  {% else %}
  <meta name="twitter:title" content="{{ site.title | escape }}" />
  {% endif %}

  {% if page.url %}
  <meta name="twitter:url" content="{{ page.url | absolute_url }}" />
  {% endif %}
  <meta name="twitter:description" content="{{ page_summary | escape }}" />
  {% if social_image %}
  <meta name="twitter:image" content="{{ social_image | absolute_url }}" />
  <meta name="twitter:image:alt" content="{{ page.title | default: site.title | escape }}" />
  {% endif %}

  <link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}" />
  <!-- <link rel="stylesheet" href="{{ '/assets/css/custom-style.css' | relative_url }}" /> -->
  {% if jekyll.environment == "production" %}
  <link rel="stylesheet" href="{{ '/assets/css/vendor.css' | relative_url }}" />
  {% if page.layout == "about-me" %}
  <link rel="stylesheet" href="{{ '/assets/css/vendor-devicon.css' | relative_url }}" />
  {% endif %}
  {% if page.layout == "gallery" %}
  <link rel="stylesheet" href="{{ '/assets/css/vendor-lightgallery.css' | relative_url }}" />
  {% endif %}
  {% else %}
  <link
    rel="stylesheet"
    href="{{ '/assets/bower_components/bootstrap/dist/css/bootstrap.min.css' | relative_url }}"
  />
  <link
    rel="stylesheet"
    href="{{ '/assets/bower_components/font-awesome/web-fonts-with-css/css/fontawesome-all.min.css' | relative_url }}"
  />
  <link
    rel="stylesheet"
    href="{{ '/assets/bower_components/icono/dist/icono.min.css' | relative_url }}"
  />
  {% if page.layout == "gallery" %}
  <link
    rel="stylesheet"
    href="{{ '/assets/bower_components/lightgallery/dist/css/lightgallery.min.css' | relative_url }}"
  />
  {% endif %}
  {% endif %}
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:wght@400;700&family=JetBrains+Mono:wght@400;500&family=Outfit:wght@400;600&display=swap"
    rel="stylesheet"
  />
  <!-- Devicons for skill/tech logos -->
  {% if jekyll.environment != "production" and page.layout == "about-me" %}
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/devicons/devicon@latest/devicon.min.css" />
  {% endif %}
  <!-- Favicon -->
  <link
    rel="icon"
    href="{{ '/assets/img/favicon.ico' | relative_url }}"
    type="image/gif"
    sizes="16x16"
  />
  <script>
      var base_url = '{{ site.baseurl | default: "" }}' ;
  </script>

  <!-- Mode switcher must run early to prevent flash of wrong theme -->
  <script src="{{ '/assets/js/mode-switcher.js' | relative_url }}"></script>

  <!-- Deferred scripts -->
  <script
    defer
    src="https://code.jquery.com/jquery-3.4.1.min.js"
    integrity="sha384-vk5WoKIaW/vJyUAd9n/wmopsmNhiy+L2Z+SBxGYnUkunIxVxAv/UtMOhba/xskxh"
    crossorigin="anonymous"
  ></script>
  <script defer src="{{ '/assets/bower_components/jquery.easing/jquery.easing.min.js' | relative_url }}"></script>
  <script defer src="{{ '/assets/bower_components/bootstrap/dist/js/bootstrap.bundle.min.js' | relative_url }}"></script>
  <script defer src="{{ '/assets/bower_components/ghosthunter/dist/jquery.ghostHunter.min.js' | relative_url }}"></script>
  {% if page.layout == "gallery" %}
  <script defer src="{{ '/assets/bower_components/lightgallery/dist/js/lightgallery-all.min.js' | relative_url }}"></script>
  <script defer src="{{ '/assets/bower_components/imagesloaded/imagesloaded.pkgd.min.js' | relative_url }}"></script>
  {% endif %}
  <script defer src="{{ '/assets/bower_components/nanobar/nanobar.min.js' | relative_url }}"></script>
  {% if page.layout == "home" %}
  <script defer src="{{ '/assets/bower_components/typewrite/dist/typewrite.min.js' | relative_url }}"></script>
  {% endif %}
  <script defer src="{{ '/assets/js/search.js' | relative_url }}"></script>
  <script defer src="{{ '/assets/js/on-scroll-progress.js' | relative_url }}"></script>

  <!-- for Mathjax support -->
  {% if page.usemathjax %}
  <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
      TeX: { equationNumbers: { autoNumber: "AMS" } }
      });
  </script>
  <script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  {% endif %}

  <!-- Github Button -->
  <script async defer src="https://buttons.github.io/buttons.js"></script>

  <!-- LCP image preload -->
  {% if page.layout == "home" %}
  <link rel="preload" as="image" href="{{ '/assets/img/' | append: site.author_logo | relative_url }}" type="image/webp" />
  {% elsif page.thumbnail %}
  <link rel="preload" as="image" href="{{ page.thumbnail | relative_url }}" type="image/webp" />
  {% endif %}

  <!-- Structured Data -->
  {%- include schema.html -%}

</head>
